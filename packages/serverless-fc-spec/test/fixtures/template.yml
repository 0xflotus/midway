ROSTemplateFormatVersion: '2015-09-01'
Transform: 'Aliyun::Serverless-2018-04-03'
Resources:
  serverless-hello-world:
    Type: 'Aliyun::Serverless::Service'
    Properties:
      Role: 'acs:ram::1647796581073291:role/aoneserverlesstestrole'
    hello1:
      Type: 'Aliyun::Serverless::Function'
      Properties:
        Description: ''
        Initializer: index.initializer
        Handler: index.handler
        Runtime: nodejs8
        CodeUri: .
      Events:
        http_/foo:
          Type: HTTP
          Properties:
            AuthType: ANONYMOUS
            Methods:
              - GET
              - POST
    hello2:
      Type: 'Aliyun::Serverless::Function'
      Properties:
        Description: ''
        Handler: aaaaaa
        Runtime: nodejs8
        CodeUri: .
      Events:
        http_/foo:
          Type: HTTP
          Properties:
            AuthType: ANONYMOUS
            Methods:
              - GET
              - POST
    hello3:
      Type: 'Aliyun::Serverless::Function'
      Properties:
        Description: ''
        Handler: bbbbbb
        Runtime: nodejs8
        CodeUri: .
      Events:
        schedule:
          Type: Timer
          Properties:
            CronExpression: 0 0 8 * * *
            Enable: true
            Payload: test
  midwayjs.org:
    Type: 'Aliyun::Serverless::CustomDomain'
    Properties:
      Protocol: HTTP
      RouteConfig:
        routes:
          /foo:
            serviceName: serverless-hello-world
            functionName: hello2
